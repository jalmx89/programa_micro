CCS PCH C Compiler, Version 5.015, 5967               08-may-18 03:06

               Filename:   C:\Users\VAIO\Desktop\class_micro\CCS C Projects\servo_adc\servo_adc.lst

               ROM used:   1296 bytes (4%)
                           Largest free fragment is 31472
               RAM used:   8 (0%) at main() level
                           33 (2%) worst case
               Stack used: 1 locations
               Stack size: 31

*
0000:  GOTO   03F0
.................... #include <servo_adc.h> 
.................... #include <18F4550.h> 
.................... //////////// Standard Header file for the PIC18F4550 device //////////////// 
.................... /////////////////////////////////////////////////////////////////////////// 
.................... ////        (C) Copyright 1996, 2013 Custom Computer Services          //// 
.................... //// This source code may only be used by licensed users of the CCS C  //// 
.................... //// compiler.  This source code may only be distributed to other      //// 
.................... //// licensed users of the CCS C compiler.  No other use, reproduction //// 
.................... //// or distribution is permitted without written permission.          //// 
.................... //// Derivative programs created using this software in object code    //// 
.................... //// form are not restricted in any way.                               //// 
.................... /////////////////////////////////////////////////////////////////////////// 
.................... #device PIC18F4550 
0004:  MOVLW  8E
0006:  MOVWF  00
0008:  MOVFF  0F,01
000C:  MOVFF  0E,02
0010:  CLRF   03
0012:  MOVF   01,F
0014:  BNZ   0028
0016:  MOVFF  02,01
001A:  CLRF   02
001C:  MOVLW  08
001E:  SUBWF  00,F
0020:  MOVF   01,F
0022:  BNZ   0028
0024:  CLRF   00
0026:  BRA    0038
0028:  BCF    FD8.0
002A:  BTFSC  01.7
002C:  BRA    0036
002E:  RLCF   02,F
0030:  RLCF   01,F
0032:  DECF   00,F
0034:  BRA    0028
0036:  BCF    01.7
0038:  GOTO   0454 (RETURN)
003C:  MOVF   0E,W
003E:  BTFSC  FD8.2
0040:  BRA    0124
0042:  MOVWF  00
0044:  MOVF   12,W
0046:  BTFSC  FD8.2
0048:  BRA    0124
004A:  ADDWF  00,F
004C:  BNC   0056
004E:  MOVLW  81
0050:  ADDWF  00,F
0052:  BC    0124
0054:  BRA    005E
0056:  MOVLW  7F
0058:  SUBWF  00,F
005A:  BNC   0124
005C:  BZ    0124
005E:  MOVFF  0F,16
0062:  MOVF   13,W
0064:  XORWF  16,F
0066:  BSF    0F.7
0068:  BSF    13.7
006A:  MOVF   11,W
006C:  MULWF  15
006E:  MOVFF  FF4,18
0072:  MOVF   10,W
0074:  MULWF  14
0076:  MOVFF  FF4,03
007A:  MOVFF  FF3,17
007E:  MULWF  15
0080:  MOVF   FF3,W
0082:  ADDWF  18,F
0084:  MOVF   FF4,W
0086:  ADDWFC 17,F
0088:  MOVLW  00
008A:  ADDWFC 03,F
008C:  MOVF   11,W
008E:  MULWF  14
0090:  MOVF   FF3,W
0092:  ADDWF  18,F
0094:  MOVF   FF4,W
0096:  ADDWFC 17,F
0098:  MOVLW  00
009A:  CLRF   02
009C:  ADDWFC 03,F
009E:  ADDWFC 02,F
00A0:  MOVF   0F,W
00A2:  MULWF  15
00A4:  MOVF   FF3,W
00A6:  ADDWF  17,F
00A8:  MOVF   FF4,W
00AA:  ADDWFC 03,F
00AC:  MOVLW  00
00AE:  ADDWFC 02,F
00B0:  MOVF   0F,W
00B2:  MULWF  14
00B4:  MOVF   FF3,W
00B6:  ADDWF  03,F
00B8:  MOVF   FF4,W
00BA:  ADDWFC 02,F
00BC:  MOVLW  00
00BE:  CLRF   01
00C0:  ADDWFC 01,F
00C2:  MOVF   11,W
00C4:  MULWF  13
00C6:  MOVF   FF3,W
00C8:  ADDWF  17,F
00CA:  MOVF   FF4,W
00CC:  ADDWFC 03,F
00CE:  MOVLW  00
00D0:  ADDWFC 02,F
00D2:  ADDWFC 01,F
00D4:  MOVF   10,W
00D6:  MULWF  13
00D8:  MOVF   FF3,W
00DA:  ADDWF  03,F
00DC:  MOVF   FF4,W
00DE:  ADDWFC 02,F
00E0:  MOVLW  00
00E2:  ADDWFC 01,F
00E4:  MOVF   0F,W
00E6:  MULWF  13
00E8:  MOVF   FF3,W
00EA:  ADDWF  02,F
00EC:  MOVF   FF4,W
00EE:  ADDWFC 01,F
00F0:  INCF   00,F
00F2:  BTFSC  01.7
00F4:  BRA    0100
00F6:  RLCF   17,F
00F8:  RLCF   03,F
00FA:  RLCF   02,F
00FC:  RLCF   01,F
00FE:  DECF   00,F
0100:  MOVLW  00
0102:  BTFSS  17.7
0104:  BRA    011A
0106:  INCF   03,F
0108:  ADDWFC 02,F
010A:  ADDWFC 01,F
010C:  MOVF   01,W
010E:  BNZ   011A
0110:  MOVF   02,W
0112:  BNZ   011A
0114:  MOVF   03,W
0116:  BNZ   011A
0118:  INCF   00,F
011A:  BTFSC  16.7
011C:  BSF    01.7
011E:  BTFSS  16.7
0120:  BCF    01.7
0122:  BRA    012C
0124:  CLRF   00
0126:  CLRF   01
0128:  CLRF   02
012A:  CLRF   03
012C:  GOTO   0476 (RETURN)
0130:  MOVLW  80
0132:  BTFSC  FD8.1
0134:  XORWF  17,F
0136:  CLRF   1C
0138:  CLRF   1D
013A:  MOVFF  13,1B
013E:  MOVF   17,W
0140:  XORWF  1B,F
0142:  MOVF   12,W
0144:  BTFSC  FD8.2
0146:  BRA    0300
0148:  MOVWF  1A
014A:  MOVWF  00
014C:  MOVF   16,W
014E:  BTFSC  FD8.2
0150:  BRA    0312
0152:  SUBWF  1A,F
0154:  BTFSC  FD8.2
0156:  BRA    025A
0158:  BNC   01D4
015A:  MOVFF  17,20
015E:  BSF    20.7
0160:  MOVFF  18,1F
0164:  MOVFF  19,1E
0168:  CLRF   1D
016A:  BCF    FD8.0
016C:  RRCF   20,F
016E:  RRCF   1F,F
0170:  RRCF   1E,F
0172:  RRCF   1D,F
0174:  DECFSZ 1A,F
0176:  BRA    0168
0178:  BTFSS  1B.7
017A:  BRA    0182
017C:  BSF    1C.0
017E:  BRA    033A
0180:  BCF    1C.0
0182:  BCF    1A.0
0184:  BSF    1C.4
0186:  CLRF   FEA
0188:  MOVLW  15
018A:  MOVWF  FE9
018C:  BRA    0360
018E:  BCF    1C.4
0190:  BTFSC  1B.7
0192:  BRA    01A8
0194:  BTFSS  1A.0
0196:  BRA    01BE
0198:  RRCF   20,F
019A:  RRCF   1F,F
019C:  RRCF   1E,F
019E:  RRCF   1D,F
01A0:  INCF   00,F
01A2:  BTFSC  FD8.2
01A4:  BRA    0330
01A6:  BRA    01BE
01A8:  BTFSC  20.7
01AA:  BRA    01C4
01AC:  BCF    FD8.0
01AE:  RLCF   1D,F
01B0:  RLCF   1E,F
01B2:  RLCF   1F,F
01B4:  RLCF   20,F
01B6:  DECF   00,F
01B8:  BTFSC  FD8.2
01BA:  BRA    0330
01BC:  BRA    01A8
01BE:  BSF    1C.6
01C0:  BRA    0298
01C2:  BCF    1C.6
01C4:  MOVFF  13,1B
01C8:  BTFSS  13.7
01CA:  BRA    01D0
01CC:  BSF    20.7
01CE:  BRA    0322
01D0:  BCF    20.7
01D2:  BRA    0322
01D4:  MOVFF  16,1A
01D8:  MOVFF  16,00
01DC:  MOVF   12,W
01DE:  SUBWF  1A,F
01E0:  MOVFF  13,20
01E4:  BSF    20.7
01E6:  MOVFF  14,1F
01EA:  MOVFF  15,1E
01EE:  CLRF   1D
01F0:  BCF    FD8.0
01F2:  RRCF   20,F
01F4:  RRCF   1F,F
01F6:  RRCF   1E,F
01F8:  RRCF   1D,F
01FA:  DECFSZ 1A,F
01FC:  BRA    01EE
01FE:  BTFSS  1B.7
0200:  BRA    0208
0202:  BSF    1C.1
0204:  BRA    033A
0206:  BCF    1C.1
0208:  BCF    1A.0
020A:  BSF    1C.5
020C:  CLRF   FEA
020E:  MOVLW  19
0210:  MOVWF  FE9
0212:  BRA    0360
0214:  BCF    1C.5
0216:  BTFSC  1B.7
0218:  BRA    022E
021A:  BTFSS  1A.0
021C:  BRA    0244
021E:  RRCF   20,F
0220:  RRCF   1F,F
0222:  RRCF   1E,F
0224:  RRCF   1D,F
0226:  INCF   00,F
0228:  BTFSC  FD8.2
022A:  BRA    0330
022C:  BRA    0244
022E:  BTFSC  20.7
0230:  BRA    024A
0232:  BCF    FD8.0
0234:  RLCF   1D,F
0236:  RLCF   1E,F
0238:  RLCF   1F,F
023A:  RLCF   20,F
023C:  DECF   00,F
023E:  BTFSC  FD8.2
0240:  BRA    0330
0242:  BRA    022E
0244:  BSF    1C.7
0246:  BRA    0298
0248:  BCF    1C.7
024A:  MOVFF  17,1B
024E:  BTFSS  17.7
0250:  BRA    0256
0252:  BSF    20.7
0254:  BRA    0322
0256:  BCF    20.7
0258:  BRA    0322
025A:  MOVFF  17,20
025E:  BSF    20.7
0260:  MOVFF  18,1F
0264:  MOVFF  19,1E
0268:  BTFSS  1B.7
026A:  BRA    0274
026C:  BCF    20.7
026E:  BSF    1C.2
0270:  BRA    033A
0272:  BCF    1C.2
0274:  CLRF   1D
0276:  BCF    1A.0
0278:  CLRF   FEA
027A:  MOVLW  15
027C:  MOVWF  FE9
027E:  BRA    0360
0280:  BTFSC  1B.7
0282:  BRA    02BC
0284:  MOVFF  13,1B
0288:  BTFSS  1A.0
028A:  BRA    0298
028C:  RRCF   20,F
028E:  RRCF   1F,F
0290:  RRCF   1E,F
0292:  RRCF   1D,F
0294:  INCF   00,F
0296:  BZ    0330
0298:  BTFSS  1D.7
029A:  BRA    02B2
029C:  INCF   1E,F
029E:  BNZ   02B2
02A0:  INCF   1F,F
02A2:  BNZ   02B2
02A4:  INCF   20,F
02A6:  BNZ   02B2
02A8:  RRCF   20,F
02AA:  RRCF   1F,F
02AC:  RRCF   1E,F
02AE:  INCF   00,F
02B0:  BZ    0330
02B2:  BTFSC  1C.6
02B4:  BRA    01C2
02B6:  BTFSC  1C.7
02B8:  BRA    0248
02BA:  BRA    02F4
02BC:  MOVLW  80
02BE:  XORWF  20,F
02C0:  BTFSS  20.7
02C2:  BRA    02CC
02C4:  BRA    033A
02C6:  MOVFF  17,1B
02CA:  BRA    02E0
02CC:  MOVFF  13,1B
02D0:  MOVF   20,F
02D2:  BNZ   02E0
02D4:  MOVF   1F,F
02D6:  BNZ   02E0
02D8:  MOVF   1E,F
02DA:  BNZ   02E0
02DC:  CLRF   00
02DE:  BRA    0322
02E0:  BTFSC  20.7
02E2:  BRA    02F4
02E4:  BCF    FD8.0
02E6:  RLCF   1D,F
02E8:  RLCF   1E,F
02EA:  RLCF   1F,F
02EC:  RLCF   20,F
02EE:  DECFSZ 00,F
02F0:  BRA    02E0
02F2:  BRA    0330
02F4:  BTFSS  1B.7
02F6:  BRA    02FC
02F8:  BSF    20.7
02FA:  BRA    0322
02FC:  BCF    20.7
02FE:  BRA    0322
0300:  MOVFF  16,00
0304:  MOVFF  17,20
0308:  MOVFF  18,1F
030C:  MOVFF  19,1E
0310:  BRA    0322
0312:  MOVFF  12,00
0316:  MOVFF  13,20
031A:  MOVFF  14,1F
031E:  MOVFF  15,1E
0322:  MOVFF  20,01
0326:  MOVFF  1F,02
032A:  MOVFF  1E,03
032E:  BRA    0398
0330:  CLRF   00
0332:  CLRF   01
0334:  CLRF   02
0336:  CLRF   03
0338:  BRA    0398
033A:  CLRF   1D
033C:  COMF   1E,F
033E:  COMF   1F,F
0340:  COMF   20,F
0342:  COMF   1D,F
0344:  INCF   1D,F
0346:  BNZ   0352
0348:  INCF   1E,F
034A:  BNZ   0352
034C:  INCF   1F,F
034E:  BNZ   0352
0350:  INCF   20,F
0352:  BTFSC  1C.0
0354:  BRA    0180
0356:  BTFSC  1C.1
0358:  BRA    0206
035A:  BTFSC  1C.2
035C:  BRA    0272
035E:  BRA    02C6
0360:  MOVF   FEF,W
0362:  ADDWF  1E,F
0364:  BNC   0370
0366:  INCF   1F,F
0368:  BNZ   0370
036A:  INCF   20,F
036C:  BTFSC  FD8.2
036E:  BSF    1A.0
0370:  MOVF   FED,F
0372:  MOVF   FEF,W
0374:  ADDWF  1F,F
0376:  BNC   037E
0378:  INCF   20,F
037A:  BTFSC  FD8.2
037C:  BSF    1A.0
037E:  MOVF   FED,F
0380:  MOVF   FEF,W
0382:  BTFSC  FEF.7
0384:  BRA    0388
0386:  XORLW  80
0388:  ADDWF  20,F
038A:  BTFSC  FD8.0
038C:  BSF    1A.0
038E:  BTFSC  1C.4
0390:  BRA    018E
0392:  BTFSC  1C.5
0394:  BRA    0214
0396:  BRA    0280
0398:  GOTO   04A6 (RETURN)
039C:  MOVLW  8E
039E:  MOVWF  00
03A0:  MOVF   0E,W
03A2:  SUBWF  00,F
03A4:  MOVFF  0F,02
03A8:  MOVFF  10,01
03AC:  BSF    02.7
03AE:  MOVF   00,F
03B0:  BZ    03C4
03B2:  BCF    FD8.0
03B4:  MOVF   02,F
03B6:  BNZ   03BC
03B8:  MOVF   01,F
03BA:  BZ    03C4
03BC:  RRCF   02,F
03BE:  RRCF   01,F
03C0:  DECFSZ 00,F
03C2:  BRA    03B2
03C4:  BTFSS  0F.7
03C6:  BRA    03D2
03C8:  COMF   01,F
03CA:  COMF   02,F
03CC:  INCF   01,F
03CE:  BTFSC  FD8.2
03D0:  INCF   02,F
03D2:  GOTO   04B8 (RETURN)
....................  
.................... #list 
....................  
.................... #device ADC=10 
....................  
.................... #FUSES NOWDT                     //No Watch Dog Timer 
.................... #FUSES WDT128                    //Watch Dog Timer uses 1:128 Postscale 
.................... #FUSES NOBROWNOUT                //No brownout reset 
.................... #FUSES NOLVP                     //No low voltage prgming, B3(PIC16) or B5(PIC18) used for I/O 
.................... #FUSES NOXINST                   //Extended set extension and Indexed Addressing mode disabled (Legacy mode) 
....................  
.................... #use delay(crystal=20000000) 
03D6:  MOVLW  03
03D8:  SUBWF  0F,F
03DA:  BNC   03EE
03DC:  CLRF   FEA
03DE:  MOVLW  0F
03E0:  MOVWF  FE9
03E2:  MOVF   FEF,W
03E4:  BZ    03EE
03E6:  BRA    03EA
03E8:  BRA    03EA
03EA:  DECFSZ FEF,F
03EC:  BRA    03E8
03EE:  RETURN 0
....................  
....................  
.................... #use fast_io(D) 
....................  
.................... void main(){ 
03F0:  CLRF   FF8
03F2:  BCF    FD0.7
03F4:  MOVF   FC1,W
03F6:  ANDLW  C0
03F8:  IORLW  0F
03FA:  MOVWF  FC1
03FC:  MOVLW  07
03FE:  MOVWF  FB4
....................     set_tris_d(0); 
0400:  MOVLW  00
0402:  MOVWF  F95
....................     output_d(0); 
0404:  CLRF   F8C
....................     int16 time = 20000; 
0406:  MOVLW  4E
0408:  MOVWF  06
040A:  MOVLW  20
040C:  MOVWF  05
....................  
....................     setup_adc(ADC_CLOCK_INTERNAL);  
040E:  MOVF   FC0,W
0410:  ANDLW  C0
0412:  IORLW  07
0414:  MOVWF  FC0
0416:  BSF    FC0.7
0418:  BSF    FC2.0
....................     setup_adc_ports(AN0);  
041A:  MOVF   FC1,W
041C:  ANDLW  C0
041E:  IORLW  0E
0420:  MOVWF  FC1
....................     set_adc_channel(0); 
0422:  MOVLW  00
0424:  MOVWF  01
0426:  MOVF   FC2,W
0428:  ANDLW  C3
042A:  IORWF  01,W
042C:  MOVWF  FC2
....................     delay_us(10); 
042E:  MOVLW  10
0430:  MOVWF  00
0432:  DECFSZ 00,F
0434:  BRA    0432
0436:  NOP   
....................   
....................     while(TRUE) 
....................     { 
....................         int16 value=read_adc(); 
....................         int16 resultado = ((400.0/341.0)*value)+800; 
....................         int16 complemento = time - resultado;  
0438:  BSF    FC2.1
043A:  BTFSC  FC2.1
043C:  BRA    043A
043E:  MOVFF  FC4,03
0442:  MOVFF  FC3,07
0446:  MOVFF  FC4,08
044A:  MOVFF  08,0F
044E:  MOVFF  07,0E
0452:  BRA    0004
0454:  MOVLW  89
0456:  MOVWF  11
0458:  MOVLW  25
045A:  MOVWF  10
045C:  MOVLW  16
045E:  MOVWF  0F
0460:  MOVLW  7F
0462:  MOVWF  0E
0464:  MOVFF  03,15
0468:  MOVFF  02,14
046C:  MOVFF  01,13
0470:  MOVFF  00,12
0474:  BRA    003C
0476:  MOVFF  03,11
047A:  MOVFF  02,10
047E:  MOVFF  01,0F
0482:  MOVFF  00,0E
0486:  BCF    FD8.1
0488:  MOVFF  03,15
048C:  MOVFF  02,14
0490:  MOVFF  01,13
0494:  MOVFF  00,12
0498:  CLRF   19
049A:  CLRF   18
049C:  MOVLW  48
049E:  MOVWF  17
04A0:  MOVLW  88
04A2:  MOVWF  16
04A4:  BRA    0130
04A6:  MOVFF  03,11
04AA:  MOVFF  02,10
04AE:  MOVFF  01,0F
04B2:  MOVFF  00,0E
04B6:  BRA    039C
04B8:  MOVFF  02,0A
04BC:  MOVFF  01,09
04C0:  MOVF   09,W
04C2:  SUBWF  05,W
04C4:  MOVWF  0B
04C6:  MOVF   0A,W
04C8:  SUBWFB 06,W
04CA:  MOVWF  0C
....................          
....................         for(int i=0; i<50; i++){ 
04CC:  CLRF   0D
04CE:  MOVF   0D,W
04D0:  SUBLW  31
04D2:  BNC   050C
....................             output_high(PIN_D0); 
04D4:  BSF    F8C.0
....................             delay_us(resultado); 
04D6:  MOVFF  0A,0E
04DA:  INCF   0E,F
04DC:  DECF   0E,F
04DE:  BTFSC  FD8.2
04E0:  BRA    04E8
04E2:  SETF   0F
04E4:  RCALL  03D6
04E6:  BRA    04DC
04E8:  MOVFF  09,0F
04EC:  RCALL  03D6
....................             output_low(PIN_D0); 
04EE:  BCF    F8C.0
....................             delay_us(complemento); 
04F0:  MOVFF  0C,0E
04F4:  INCF   0E,F
04F6:  DECF   0E,F
04F8:  BTFSC  FD8.2
04FA:  BRA    0502
04FC:  SETF   0F
04FE:  RCALL  03D6
0500:  BRA    04F6
0502:  MOVFF  0B,0F
0506:  RCALL  03D6
0508:  INCF   0D,F
050A:  BRA    04CE
....................         } 
050C:  BRA    0438
....................          
....................     } 
....................  
.................... } 
050E:  SLEEP 

Configuration Fuses:
   Word  1: CC04   PLL5 CPUDIV1 NOUSBDIV HS FCMEN IESO
   Word  2: 0E38   PUT NOBROWNOUT BORV21 VREGEN NOWDT WDT128
   Word  3: 8700   CCP2C1 PBADEN LPT1OSC MCLR
   Word  4: 00A1   STVREN NOLVP ICSP2 NOXINST NODEBUG
   Word  5: C00F   NOPROTECT NOCPB NOCPD
   Word  6: E00F   NOWRT NOWRTC NOWRTB NOWRTD
   Word  7: 400F   NOEBTR NOEBTRB
