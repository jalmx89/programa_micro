#include <teclado_tres_tres.h>

#include <kbd.c>
#define use_portb_kbd TRUE

#define LCD_DATA_PORT getenv("SFR:PORTD")                         ////
#include <lcd.c>
#define LCD_ENABLE_PIN  PIN_D0                                    ////
#define LCD_RS_PIN      PIN_D1                                    ////
#define LCD_RW_PIN      PIN_D2                                    ////
#define LCD_DATA4       PIN_D4                                    ////
#define LCD_DATA5       PIN_D5                                    ////
#define LCD_DATA6       PIN_D6                                    ////
#define LCD_DATA7       PIN_D7               


void main()
{
    char k=0;                     // Character k to store keypad input
   delay_ms(1); 
   /* Peripherals Configurations */ 
   lcd_init();                   // Turn LCD ON, along with other initialization commands
   kbd_init();                   // Initialize Keypad 
    
   lcd_gotoxy(1,1);              // point LCD cursor to col1 row1
   lcd_putc("Hello World !!");  // print on LCD 
   lcd_gotoxy(1,2);              // point LCD cursor to col1 row2

   while(1) // infinite loop 
   { 
      k = kbd_getc();            // read keypad input (if exists) 
      if(k!=0)                   // if key captured 
      { 
         lcd_putc(k);            // print captured key to lcd
         k=0;                    // reset k for another loop round
         delay_ms(250);          // delay between key presses
      } 
      delay_ms(1);               // delay_between read trials
   } 

}
